<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Floor</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/floor.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>

<body>
    <h2>FIRST FLOOR</h2>
    <div id="tables" data-aos="fade-up">
        <table>
            <tr>
                <th style="width: 30%;">Room number</th>
                <th>Bed 1</th>
                <th>Bed 2</th>
                <th>Bed 3</th>
            </tr>
            <tr>
                <td>101</td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
                <td><a class="myBtn" id="1DS20CS107" href="#exampleModalCenter" data-target="#exampleModalCenter"
                        data-toggle="modal" id="open">Sonia</a></td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
            </tr>
            <tr>
                <td>102</td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
                <td><a class="myBtn" id="1DS20CS108" href="#exampleModalCenter" data-target="#exampleModalCenter"
                        data-toggle="modal" id="open">Aditi</a></td>
                <td><a class="myBtn" id="1DS20CS109" href="#exampleModalCenter" data-target="#exampleModalCenter"
                        data-toggle="modal" id="open">Bhagya</a></td>
            </tr>




            <tr>
                <td>103</td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
            </tr>
            <tr>
                <td>104</td>
                <td><a class="myBtn" id="1DS20CS110" href="#exampleModalCenter" data-target="#exampleModalCenter"
                        data-toggle="modal" id="open">Manisha</a></td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
            </tr>
            <tr>
                <td>105</td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
                <td><a href="#exampleModalCenter" data-target="#exampleModalCenter" data-toggle="modal" id="open">-</a>
                </td>
            </tr>
        </table>


    </div>
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-aos="fade-up">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Details:</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                     <div id="name"></div>
                     <div id="branch"></div>
                     <div id="state"></div>
                    <div id="lang"></div>
                     <div id="number"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script type="module">
        import { getDatabase, set, get, ref, push, child, remove } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-database.js";
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";


        const firebaseConfig = {
            apiKey: "AIzaSyDwb6nqO9VaixY4hqhf53fKPEnUQbt8dQ4",
            authDomain: "fir-basic-project-c34b5.firebaseapp.com",
            projectId: "fir-basic-project-c34b5",
            storageBucket: "fir-basic-project-c34b5.appspot.com",
            messagingSenderId: "671769167140",
            appId: "1:671769167140:web:97fbc6d75e4c4cf29e5fb1",
            measurementId: "G-B97VPMN20N"
        };

        function calldataf(Usn) {
            const dbref = ref(database);
            get(child(dbref, 'users/' + Usn)).then((snapshot) => {
                if (snapshot.exists()) {
                    document.getElementById('name').innerHTML = "Name: " + snapshot.val().fullName
                    document.getElementById('branch').innerHTML = "Branch: " + snapshot.val().branchName
                    document.getElementById('state').innerHTML = "State: " + snapshot.val().State
                    document.getElementById('lang').innerHTML = "Languages known: " + snapshot.val().langKnown
                    document.getElementById('number').innerHTML = "Contact number: " + snapshot.val().perNum
                }
                else {
                    alert("unsuccessful");
                }
            }).catch((error) => {
                console.error(error);
            });
        }

        $('.myBtn').on('click', function () {
            calldataf(this.id)
        })

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
    </script>
    <script src="./main.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
</body>

</html>